name: DOCKER CI

on:
 push:
  branches: ["master"]

jobs:
 build:
   runs-on: ubuntu-latest

   steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Set up Docker Buildx
      uses: docker/setup-buildx-action@v3
      
    - name: Build Docker image
      run: docker build -t myapp:test .

    - name: Run tests
      run: docker run --rm myapp:test npm test || echo "No tests found"

    - name: Done
      run: echo "âœ… Build and test complete!"   
